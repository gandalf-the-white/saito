<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="809px" preserveAspectRatio="none" style="width:1594px;height:809px;background:#FFFFFF;" version="1.1" viewBox="0 0 1594 809" width="1594px" zoomAndPan="magnify"><defs/><g><!--class Tool--><g class="entity" data-entity="Tool" data-source-line="12" data-uid="ent0002" id="entity_Tool"><rect fill="#F1F1F1" height="146.9297" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187.8682" x="480.94" y="655.19"/><ellipse cx="555.5748" cy="671.19" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M558.0479,677.3331 Q557.4669,677.6319 556.8277,677.7813 Q556.1885,677.9307 555.483,677.9307 Q552.9761,677.9307 551.6563,676.2789 Q550.3365,674.627 550.3365,671.5059 Q550.3365,668.3765 551.6563,666.7247 Q552.9761,665.0728 555.483,665.0728 Q556.1885,665.0728 556.836,665.2222 Q557.4835,665.3716 558.0479,665.6705 L558.0479,668.3931 Q557.4171,667.8121 556.8235,667.5423 Q556.23,667.2725 555.5992,667.2725 Q554.2545,667.2725 553.5696,668.3392 Q552.8848,669.4058 552.8848,671.5059 Q552.8848,673.5977 553.5696,674.6644 Q554.2545,675.731 555.5992,675.731 Q556.23,675.731 556.8235,675.4612 Q557.4171,675.1915 558.0479,674.6104 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.0986" x="576.0748" y="676.481">Tool</text><line style="stroke:#181818;stroke-width:0.5;" x1="481.94" x2="667.8082" y1="687.19" y2="687.19"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.2461" x="486.94" y="704.7252">-name : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1855" x="486.94" y="721.2134">-schema : alist</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.1514" x="486.94" y="737.7017">-handler : function</text><line style="stroke:#181818;stroke-width:1;" x1="481.94" x2="667.8082" y1="744.6548" y2="744.6548"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.9629" x="486.94" y="762.19">+tool-name() : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.9023" x="486.94" y="778.6783">+tool-schema() : alist</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.8682" x="486.94" y="795.1666">+tool-handler() : function</text></g><!--class ToolRegistry--><g class="entity" data-entity="ToolRegistry" data-source-line="23" data-uid="ent0003" id="entity_ToolRegistry"><rect fill="#ADD8E6" height="188.5273" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="292.2324" x="258.76" y="389.66"/><ellipse cx="358.1545" cy="409.9705" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M360.6277,416.1136 Q360.0466,416.4124 359.4075,416.5619 Q358.7683,416.7113 358.0627,416.7113 Q355.5559,416.7113 354.2361,415.0594 Q352.9163,413.4076 352.9163,410.2865 Q352.9163,407.1571 354.2361,405.5052 Q355.5559,403.8534 358.0627,403.8534 Q358.7683,403.8534 359.4158,404.0028 Q360.0632,404.1522 360.6277,404.451 L360.6277,407.1737 Q359.9968,406.5926 359.4033,406.3228 Q358.8098,406.0531 358.1789,406.0531 Q356.8342,406.0531 356.1494,407.1197 Q355.4646,408.1864 355.4646,410.2865 Q355.4646,412.3783 356.1494,413.4449 Q356.8342,414.5116 358.1789,414.5116 Q358.8098,414.5116 359.4033,414.2418 Q359.9968,413.972 360.6277,413.391 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="37.6875" x="402.2825" y="406.2616">&#171;core&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.9434" x="378.6545" y="422.328">ToolRegistry</text><line style="stroke:#181818;stroke-width:0.5;" x1="259.76" x2="549.9924" y1="430.2811" y2="430.2811"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="133.2256" x="264.76" y="447.8163">*tools* : list&lt;Tool&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="138.1406" x="264.76" y="464.3045">*ollama-url* : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="162.0049" x="264.76" y="480.7928">*ollama-model* : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="218.6885" x="264.76" y="497.2811">*agent-system-prompt* : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="170.1875" x="264.76" y="513.7694">*agent-debug* : boolean</text><line style="stroke:#181818;stroke-width:1;" x1="259.76" x2="549.9924" y1="520.7225" y2="520.7225"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="172.4639" x="264.76" y="538.2577">+register-tool(tool: Tool)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="280.2324" x="264.76" y="554.7459">+find-tool-by-name(name: string) : Tool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="154.4443" x="264.76" y="571.2342">+tools-schemas() : list</text></g><!--class Agent--><g class="entity" data-entity="Agent" data-source-line="36" data-uid="ent0004" id="entity_Agent"><rect fill="#ADD8E6" height="106.0859" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="337.7051" x="958.02" y="7"/><ellipse cx="1102.5659" cy="27.3105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1105.039,33.4536 Q1104.458,33.7524 1103.8188,33.9019 Q1103.1797,34.0513 1102.4741,34.0513 Q1099.9673,34.0513 1098.6474,32.3994 Q1097.3276,30.7476 1097.3276,27.6265 Q1097.3276,24.4971 1098.6474,22.8452 Q1099.9673,21.1934 1102.4741,21.1934 Q1103.1797,21.1934 1103.8271,21.3428 Q1104.4746,21.4922 1105.039,21.791 L1105.039,24.5137 Q1104.4082,23.9326 1103.8147,23.6628 Q1103.2212,23.3931 1102.5903,23.3931 Q1101.2456,23.3931 1100.5608,24.4597 Q1099.876,25.5264 1099.876,27.6265 Q1099.876,29.7183 1100.5608,30.7849 Q1101.2456,31.8516 1102.5903,31.8516 Q1103.2212,31.8516 1103.8147,31.5818 Q1104.4082,31.312 1105.039,30.731 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="37.6875" x="1124.2788" y="23.6016">&#171;core&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.1133" x="1123.0659" y="39.668">Agent</text><line style="stroke:#181818;stroke-width:0.5;" x1="959.02" x2="1294.7251" y1="47.6211" y2="47.6211"/><line style="stroke:#181818;stroke-width:1;" x1="959.02" x2="1294.7251" y1="55.6211" y2="55.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="325.7051" x="964.02" y="73.1563">+run-weather-agent(user-input: string) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310.5498" x="964.02" y="89.6445">-handle-tool-call(tool-call: hash-table) : alist</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.957" x="964.02" y="106.1328">-ensure-list(x) : list</text></g><!--class OllamaClient--><g class="entity" data-entity="OllamaClient" data-source-line="44" data-uid="ent0005" id="entity_OllamaClient"><rect fill="#ADD8E6" height="89.5977" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.6855" x="819.03" y="206.58"/><ellipse cx="917.1189" cy="226.8905" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M919.592,233.0336 Q919.011,233.3324 918.3718,233.4819 Q917.7326,233.6313 917.0271,233.6313 Q914.5202,233.6313 913.2004,231.9794 Q911.8806,230.3276 911.8806,227.2065 Q911.8806,224.0771 913.2004,222.4252 Q914.5202,220.7734 917.0271,220.7734 Q917.7326,220.7734 918.3801,220.9228 Q919.0276,221.0722 919.592,221.371 L919.592,224.0937 Q918.9612,223.5126 918.3676,223.2428 Q917.7741,222.9731 917.1433,222.9731 Q915.7986,222.9731 915.1137,224.0397 Q914.4289,225.1064 914.4289,227.2065 Q914.4289,229.2983 915.1137,230.3649 Q915.7986,231.4316 917.1433,231.4316 Q917.7741,231.4316 918.3676,231.1618 Q918.9612,230.892 919.592,230.311 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="37.6875" x="962.279" y="223.1816">&#171;core&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.0078" x="937.6189" y="239.248">OllamaClient</text><line style="stroke:#181818;stroke-width:0.5;" x1="820.03" x2="1109.7155" y1="247.2011" y2="247.2011"/><line style="stroke:#181818;stroke-width:1;" x1="820.03" x2="1109.7155" y1="255.2011" y2="255.2011"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279.6855" x="825.03" y="272.7363">+call-ollama(messages: list) : hash-table</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204.8389" x="825.03" y="289.2245">+test-ollama-simple() : string</text></g><!--class HttpUtils--><g class="entity" data-entity="HttpUtils" data-source-line="51" data-uid="ent0006" id="entity_HttpUtils"><rect fill="#D3D3D3" height="106.0859" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="353.585" x="703.08" y="430.88"/><ellipse cx="845.7529" cy="451.1905" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M848.226,457.3336 Q847.6449,457.6324 847.0058,457.7819 Q846.3666,457.9313 845.6611,457.9313 Q843.1542,457.9313 841.8344,456.2794 Q840.5146,454.6276 840.5146,451.5065 Q840.5146,448.3771 841.8344,446.7252 Q843.1542,445.0734 845.6611,445.0734 Q846.3666,445.0734 847.0141,445.2228 Q847.6615,445.3722 848.226,445.671 L848.226,448.3937 Q847.5951,447.8126 847.0016,447.5428 Q846.4081,447.2731 845.7773,447.2731 Q844.4325,447.2731 843.7477,448.3397 Q843.0629,449.4064 843.0629,451.5065 Q843.0629,453.5983 843.7477,454.6649 Q844.4325,455.7316 845.7773,455.7316 Q846.4081,455.7316 847.0016,455.4618 Q847.5951,455.192 848.226,454.611 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="31.4473" x="880.3988" y="447.4816">&#171;util&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.7393" x="866.2529" y="463.548">HttpUtils</text><line style="stroke:#181818;stroke-width:0.5;" x1="704.08" x2="1055.665" y1="471.5011" y2="471.5011"/><line style="stroke:#181818;stroke-width:1;" x1="704.08" x2="1055.665" y1="479.5011" y2="479.5011"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320.5098" x="709.08" y="497.0363">+http-get(url: string, parameters: alist) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341.585" x="709.08" y="513.5245">+http-post-json(url: string, payload: alist) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.9316" x="709.08" y="530.0128">-body-&gt;string(body) : string</text></g><!--class Utils--><g class="entity" data-entity="Utils" data-source-line="59" data-uid="ent0007" id="entity_Utils"><rect fill="#D3D3D3" height="89.5977" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="332.6396" x="1245.55" y="206.58"/><ellipse cx="1392.5363" cy="226.8905" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1395.0095,233.0336 Q1394.4284,233.3324 1393.7893,233.4819 Q1393.1501,233.6313 1392.4445,233.6313 Q1389.9377,233.6313 1388.6179,231.9794 Q1387.298,230.3276 1387.298,227.2065 Q1387.298,224.0771 1388.6179,222.4252 Q1389.9377,220.7734 1392.4445,220.7734 Q1393.1501,220.7734 1393.7976,220.9228 Q1394.445,221.0722 1395.0095,221.371 L1395.0095,224.0937 Q1394.3786,223.5126 1393.7851,223.2428 Q1393.1916,222.9731 1392.5607,222.9731 Q1391.216,222.9731 1390.5312,224.0397 Q1389.8464,225.1064 1389.8464,227.2065 Q1389.8464,229.2983 1390.5312,230.3649 Q1391.216,231.4316 1392.5607,231.4316 Q1393.1916,231.4316 1393.7851,231.1618 Q1394.3786,230.892 1395.0095,230.311 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="31.4473" x="1412.3962" y="223.1816">&#171;util&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.167" x="1413.0363" y="239.248">Utils</text><line style="stroke:#181818;stroke-width:0.5;" x1="1246.55" x2="1577.1896" y1="247.2011" y2="247.2011"/><line style="stroke:#181818;stroke-width:1;" x1="1246.55" x2="1577.1896" y1="255.2011" y2="255.2011"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285.2295" x="1251.55" y="272.7363">+extract-json-substring(s: string) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320.6396" x="1251.55" y="289.2245">+try-manual-tool-json(content: string) : string</text></g><!--class Logger--><g class="entity" data-entity="Logger" data-source-line="66" data-uid="ent0008" id="entity_Logger"><rect fill="#D3D3D3" height="73.1094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239.9717" x="1091.89" y="447.37"/><ellipse cx="1184.1" cy="467.6805" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1186.5731,473.8236 Q1185.9921,474.1224 1185.3529,474.2719 Q1184.7137,474.4213 1184.0082,474.4213 Q1181.5013,474.4213 1180.1815,472.7694 Q1178.8617,471.1176 1178.8617,467.9965 Q1178.8617,464.8671 1180.1815,463.2152 Q1181.5013,461.5634 1184.0082,461.5634 Q1184.7137,461.5634 1185.3612,461.7128 Q1186.0087,461.8622 1186.5731,462.161 L1186.5731,464.8837 Q1185.9422,464.3026 1185.3487,464.0328 Q1184.7552,463.7631 1184.1244,463.7631 Q1182.7796,463.7631 1182.0948,464.8297 Q1181.41,465.8964 1181.41,467.9965 Q1181.41,470.0883 1182.0948,471.1549 Q1182.7796,472.2216 1184.1244,472.2216 Q1184.7552,472.2216 1185.3487,471.9518 Q1185.9422,471.682 1186.5731,471.101 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="31.4473" x="1212.4022" y="463.9716">&#171;util&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.0518" x="1204.6" y="480.038">Logger</text><line style="stroke:#181818;stroke-width:0.5;" x1="1092.89" x2="1330.8617" y1="487.9911" y2="487.9911"/><line style="stroke:#181818;stroke-width:1;" x1="1092.89" x2="1330.8617" y1="495.9911" y2="495.9911"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227.9717" x="1097.89" y="513.5263">+dbg(fmt: string, args: list) : void</text></g><!--class TimeTool--><g class="entity" data-entity="TimeTool" data-source-line="72" data-uid="ent0009" id="entity_TimeTool"><rect fill="#90EE90" height="106.0859" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="331.7441" x="7" y="198.33"/><ellipse cx="136.688" cy="218.6405" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M139.1611,224.7836 Q138.5801,225.0824 137.9409,225.2319 Q137.3018,225.3813 136.5962,225.3813 Q134.0894,225.3813 132.7695,223.7294 Q131.4497,222.0776 131.4497,218.9565 Q131.4497,215.8271 132.7695,214.1752 Q134.0894,212.5234 136.5962,212.5234 Q137.3018,212.5234 137.9492,212.6728 Q138.5967,212.8222 139.1611,213.121 L139.1611,215.8437 Q138.5303,215.2626 137.9368,214.9928 Q137.3433,214.7231 136.7124,214.7231 Q135.3677,214.7231 134.6829,215.7897 Q133.998,216.8564 133.998,218.9565 Q133.998,221.0483 134.6829,222.1149 Q135.3677,223.1816 136.7124,223.1816 Q137.3433,223.1816 137.9368,222.9118 Q138.5303,222.642 139.1611,222.061 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35.2734" x="171.4854" y="214.9316">&#171;tool&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.8682" x="157.188" y="230.998">TimeTool</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="337.7441" y1="238.9511" y2="238.9511"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="179.416" x="13" y="256.4863">*time-tool-schema* : alist</text><line style="stroke:#181818;stroke-width:1;" x1="8" x2="337.7441" y1="263.4394" y2="263.4394"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319.7441" x="13" y="280.9745">+current-time-string(timezone: string) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.2432" x="13" y="297.4628">+make-time-tool() : Tool</text></g><!--class WeatherTool--><g class="entity" data-entity="WeatherTool" data-source-line="79" data-uid="ent0010" id="entity_WeatherTool"><rect fill="#90EE90" height="122.5742" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="310.2588" x="473.74" y="190.09"/><ellipse cx="582.0896" cy="210.4005" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M584.5628,216.5436 Q583.9817,216.8424 583.3425,216.9919 Q582.7034,217.1413 581.9978,217.1413 Q579.491,217.1413 578.1712,215.4894 Q576.8513,213.8376 576.8513,210.7165 Q576.8513,207.5871 578.1712,205.9352 Q579.491,204.2834 581.9978,204.2834 Q582.7034,204.2834 583.3508,204.4328 Q583.9983,204.5822 584.5628,204.881 L584.5628,207.6037 Q583.9319,207.0226 583.3384,206.7528 Q582.7449,206.4831 582.114,206.4831 Q580.7693,206.4831 580.0845,207.5497 Q579.3997,208.6164 579.3997,210.7165 Q579.3997,212.8083 580.0845,213.8749 Q580.7693,214.9416 582.114,214.9416 Q582.7449,214.9416 583.3384,214.6718 Q583.9319,214.402 584.5628,213.821 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35.2734" x="627.4827" y="206.6916">&#171;tool&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.0596" x="602.5896" y="222.758">WeatherTool</text><line style="stroke:#181818;stroke-width:0.5;" x1="474.74" x2="782.9988" y1="230.7111" y2="230.7111"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="203.0342" x="479.74" y="248.2463">*weather-tool-schema* : alist</text><line style="stroke:#181818;stroke-width:1;" x1="474.74" x2="782.9988" y1="255.1994" y2="255.1994"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237.7471" x="479.74" y="272.7345">+geocode-city(city: string) : values</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="298.2588" x="479.74" y="289.2228">+get-weather-from-api(city: string) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.8613" x="479.74" y="305.7111">+make-weather-tool() : Tool</text></g><g class="entity" data-entity="GMN24" data-source-line="106" data-uid="ent0025" id="entity_GMN24"><path d="M1330.66,32.08 L1330.66,56.05 L1296.11,60.05 L1330.66,64.05 L1330.66,88.0116 A0,0 0 0 0 1330.66,88.0116 L1587.0819,88.0116 A0,0 0 0 0 1587.0819,88.0116 L1587.0819,42.08 L1577.0819,32.08 L1330.66,32.08 A0,0 0 0 0 1330.66,32.08" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1577.0819,32.08 L1577.0819,42.08 L1587.0819,42.08 L1577.0819,32.08" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.4219" x="1336.66" y="49.6484">Main entry point for agent execution.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.0361" x="1336.66" y="64.9589">Manages conversation loop with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.4409" x="1336.66" y="80.2695">Ollama and tool execution.</text></g><g class="entity" data-entity="GMN27" data-source-line="112" data-uid="ent0028" id="entity_GMN27"><path d="M703.98,700.69 L703.98,724.66 L669.13,728.66 L703.98,732.66 L703.98,756.6216 A0,0 0 0 0 703.98,756.6216 L953.7686,756.6216 A0,0 0 0 0 953.7686,756.6216 L953.7686,710.69 L943.7686,700.69 L703.98,700.69 A0,0 0 0 0 703.98,700.69" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M943.7686,700.69 L943.7686,710.69 L953.7686,710.69 L943.7686,700.69" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.9395" x="709.98" y="718.2584">Base class for all tools.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.7886" x="709.98" y="733.5689">Each tool has a name, JSON schema,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.126" x="709.98" y="748.8795">and a handler function.</text></g><g class="entity" data-entity="GMN30" data-source-line="118" data-uid="ent0031" id="entity_GMN30"><path d="M253.65,700.69 L253.65,756.6216 A0,0 0 0 0 253.65,756.6216 L446.1002,756.6216 A0,0 0 0 0 446.1002,756.6216 L446.1002,710.69 L436.1002,700.69 L360.05,700.69 L383.69,578.42 L352.05,700.69 L253.65,700.69 A0,0 0 0 0 253.65,700.69" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M436.1002,700.69 L436.1002,710.69 L446.1002,710.69 L436.1002,700.69" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.4502" x="259.65" y="718.2584">Global registry maintaining</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.5835" x="259.65" y="733.5689">all registered tools and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1094" x="259.65" y="748.8795">system configuration.</text></g><!--reverse link ToolRegistry to Tool--><g class="link" data-entity-1="ToolRegistry" data-entity-2="Tool" data-source-line="88" data-uid="lnk11" id="link_ToolRegistry_Tool"><path codeLine="88" d="M477.2426,588.2501 C495.0126,613.6301 507.1,630.89 523.94,654.93" fill="none" id="ToolRegistry-backto-Tool" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="470.36,578.42,470.5246,585.6292,477.2426,588.2501,477.078,581.0408,470.36,578.42" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.5386" x="501.05" y="621.7584">manages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.2202" x="467.0758" y="598.8093">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6.2651" x="512.6439" y="644.5181">*</text></g><!--link Agent to ToolRegistry--><g class="link" data-entity-1="Agent" data-entity-2="ToolRegistry" data-source-line="89" data-uid="lnk12" id="link_Agent_ToolRegistry"><path codeLine="89" d="M957.84,68.99 C773.35,81.5 494.95,112.93 425.87,190.09 C378.36,243.16 375.7071,319.6074 383.7871,383.4874" fill="none" id="Agent-to-ToolRegistry" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="384.54,389.44,387.379,380.0092,383.9126,384.4795,379.4422,381.0131,384.54,389.44" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="426.87" y="256.4484">uses</text></g><!--link Agent to OllamaClient--><g class="link" data-entity-1="Agent" data-entity-2="OllamaClient" data-source-line="90" data-uid="lnk13" id="link_Agent_OllamaClient"><path codeLine="90" d="M1081.96,113.53 C1057.05,142.64 1030.3204,173.8807 1006.6404,201.5607" fill="none" id="Agent-to-OllamaClient" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1002.74,206.12,1011.6301,201.8814,1005.9903,202.3206,1005.5511,196.6808,1002.74,206.12" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="1056.57" y="156.6584">uses</text></g><!--link Agent to Utils--><g class="link" data-entity-1="Agent" data-entity-2="Utils" data-source-line="91" data-uid="lnk14" id="link_Agent_Utils"><path codeLine="91" d="M1205.88,113.53 C1249.7,142.64 1298.5922,175.1201 1340.2622,202.8001" fill="none" id="Agent-to-Utils" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1345.26,206.12,1339.9765,197.8083,1341.0951,203.3534,1335.55,204.472,1345.26,206.12" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="1270.37" y="156.6584">uses</text></g><!--link Agent to Logger--><g class="link" data-entity-1="Agent" data-entity-2="Logger" data-source-line="92" data-uid="lnk15" id="link_Agent_Logger"><path codeLine="92" d="M1137.38,113.2 C1154.88,200.06 1188.3753,366.2981 1203.4253,441.0181" fill="none" id="Agent-to-Logger" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1204.61,446.9,1206.7542,437.2874,1203.6227,441.9984,1198.9117,438.867,1204.61,446.9" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="1177.43" y="256.4484">uses</text></g><!--link OllamaClient to HttpUtils--><g class="link" data-entity-1="OllamaClient" data-entity-2="HttpUtils" data-source-line="94" data-uid="lnk16" id="link_OllamaClient_HttpUtils"><path codeLine="94" d="M948.58,296.56 C934.51,334.73 916.2156,384.3504 901.3056,424.7904" fill="none" id="OllamaClient-to-HttpUtils" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="899.23,430.42,906.0964,423.3594,900.9597,425.7287,898.5903,420.5919,899.23,430.42" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="930.99" y="356.2284">uses</text></g><!--link OllamaClient to ToolRegistry--><g class="link" data-entity-1="OllamaClient" data-entity-2="ToolRegistry" data-source-line="95" data-uid="lnk17" id="link_OllamaClient_ToolRegistry"><path codeLine="95" d="M895.44,296.55 C857.61,318.71 809.17,344.09 762.87,359.66 C683.92,386.22 656.74,362.86 577.87,389.66 C568.99,392.68 565.553,393.8091 556.613,397.5591" fill="none" id="OllamaClient-to-ToolRegistry" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="551.08,399.88,560.9267,400.0873,555.6908,397.9459,557.8322,392.7101,551.08,399.88" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="804.57" y="356.2284">uses</text></g><!--link OllamaClient to Logger--><g class="link" data-entity-1="OllamaClient" data-entity-2="Logger" data-source-line="96" data-uid="lnk18" id="link_OllamaClient_Logger"><path codeLine="96" d="M1012.2,296.56 C1059.13,340.36 1125.7436,402.5362 1169.2236,443.1162" fill="none" id="OllamaClient-to-Logger" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1173.61,447.21,1169.7596,438.145,1169.9547,443.7985,1164.3012,443.9935,1173.61,447.21" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="1074.58" y="356.2284">uses</text></g><!--link TimeTool to Tool--><g class="link" data-entity-1="TimeTool" data-entity-2="Tool" data-source-line="98" data-uid="lnk19" id="link_TimeTool_Tool"><path codeLine="98" d="M159.46,304.89 C144.84,375.3 131.16,500.43 193.87,578.19 C272.21,675.32 350.35,603.39 463.87,655.19 C469.42,657.72 469.7098,657.6979 475.2698,660.6479" fill="none" id="TimeTool-to-Tool" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="480.57,663.46,474.4945,655.7083,476.1532,661.1165,470.745,662.7752,480.57,663.46" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.1318" x="194.87" y="488.9984">creates</text></g><!--link WeatherTool to Tool--><g class="link" data-entity-1="WeatherTool" data-entity-2="Tool" data-source-line="99" data-uid="lnk20" id="link_WeatherTool_Tool"><path codeLine="99" d="M621.98,313.05 C612.05,400.39 594.4471,555.3383 583.8171,648.9383" fill="none" id="WeatherTool-to-Tool" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="583.14,654.9,588.13,646.4089,583.7042,649.9319,580.1811,645.5061,583.14,654.9" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.1318" x="614.25" y="488.9984">creates</text></g><!--link WeatherTool to HttpUtils--><g class="link" data-entity-1="WeatherTool" data-entity-2="HttpUtils" data-source-line="100" data-uid="lnk21" id="link_WeatherTool_HttpUtils"><path codeLine="100" d="M682.76,313.07 C697.32,328.66 713.35,345.13 728.87,359.66 C754.93,384.07 780.4744,405.5423 807.0044,426.7623" fill="none" id="WeatherTool-to-HttpUtils" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="811.69,430.51,807.1602,421.7647,807.7854,427.3869,802.1632,428.0121,811.69,430.51" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="729.87" y="356.2284">uses</text></g><!--link TimeTool to ToolRegistry--><g class="link" data-entity-1="TimeTool" data-entity-2="ToolRegistry" data-source-line="102" data-uid="lnk22" id="link_TimeTool_ToolRegistry"><path codeLine="102" d="M225.52,304.69 C250.78,329.8 277.5842,356.4305 306.7042,385.3705" fill="none" id="TimeTool-to-ToolRegistry" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="310.96,389.6,307.396,380.4186,307.4135,386.0754,301.7567,386.093,310.96,389.6" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.0649" x="275.98" y="356.2284">registers to</text></g><!--link WeatherTool to ToolRegistry--><g class="link" data-entity-1="WeatherTool" data-entity-2="ToolRegistry" data-source-line="103" data-uid="lnk23" id="link_WeatherTool_ToolRegistry"><path codeLine="103" d="M552.64,313.07 C541.69,322.66 530.78,332.7 520.87,342.66 C506.39,357.23 495.6777,368.8785 481.9377,384.9585" fill="none" id="WeatherTool-to-ToolRegistry" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="478.04,389.52,486.9276,385.2762,481.2881,385.7187,480.8456,380.0792,478.04,389.52" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.0649" x="521.87" y="356.2284">registers to</text></g><!--SRC=[ZLRRRjms47tNLn1-iRmnZVPrOImG6qNI8csAs4NHHqgQbLXJfC2BdKsGV-_m8fcwhD45Lf0uXpDdhkGbkLVoo5kdcULA5kQ9ou5frfDQC6FUMwjvvIpyMYlvmBy1-Ma98TyBWhyxLZ-rMZdPt2kXzErj7VGU3kGJRplx3mYXNiuXDOouE-5W6sML4YFgWmQGsp1dUGPZf-97KLoYanh8lQSBfeYq7r5Vu4w9P3sGFJ7egsp3Ygaxw1ckCS6D3KiTauq0ZMj79-iGB5oc-7X7F3VgjPHNkPuaYCg2Q5IN94bd44rQ0-4FGbLCa0VBB6I4lq2B2lI9J57p7dmt2EFr3xBpMiqEjNaxjtx7OIPNGh2UKQV5BYUw0lIgWNCGreAqr9oCXPuEMlM3VHFPGELQZwYG3h0fR1Fk7T71BT3Kyo_zOn_SlPh3Zbms0KAhKmotVuocVH3zflcU496K0XC27L8GWlpUyoEVLClh5EEuCWjkIh5sahu0inso37wLpk0hjeApEOEiY69s8-6QYUXOUDkZp7JKiah0rQpAG1gdWVhlykkSxUUG6gnYZjOJtxWMbpPfUsiq9hNimHYaRg9Ih_oLHQn9C3Q1gU7z86Rr74XyV7pya_o5FSOjdrhfexM3NpDawh-CGeTIsW86J8jHsJK94mGmvoQvl-YSi6jGIEXVe-Hoxqaercnjf5XbpOaUuaBfFvOkBDcVPmvVhMPrP42Dgv9Iivbl39y-qPv9nqJCUI2EOz1YSZQs139OVAt_Y5Jy5uwOBIvDrPR7thu6WUaso-IpuiquwcIjCR2X5wPXnti80s-QeukvWNAQ3QjTNfIfafpMlfq3D4N2ltzJ4iu4f6TFG2VLvTIWo3FI-Zisr5lCnfvxcrmBgiQHHMjkJwL_v8oU6Hug9k7irCL775sK3No5NtgGKvWvSKc-W0ZdfkduO8hPXBxu-O8eIid5xYAUDNlK9dt_5N7AtDmSvZDzJvoPIMVTlPB6kbqjfnfAwyLCXvU_Dck2h11Rf5QWXPcfm4O5AC4onDFB57cM_uTuHN2jF6Ct7Xq69_scfNFOGYfi4ktl2KGTu-J7dF_EkCGfx3SCYgEpHwL96FWu3g1sFjit0HToIR2_dr5Zg08Yb1h82xST0jAunZCWd47vRi0rRtt98PrUTyn0kbi5uqB4KyoR_ONLNTI7ivkmS7Mv9hyzVFuZtLck4UHjikd2CbuiLdOhPQtgHyDZd71_kdpeCN8zniJYFtQ5vpD64g9pnfj4KRmKa3g_KcPc_mC0]--></g></svg>
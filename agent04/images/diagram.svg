<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="859px" preserveAspectRatio="none" style="width:1616px;height:859px;background:#FFFFFF;" version="1.1" viewBox="0 0 1616 859" width="1616px" zoomAndPan="magnify"><defs/><g><!--cluster agent--><g class="cluster" data-entity="agent" data-source-line="15" data-uid="ent0002" id="cluster_agent"><path d="M8.5,6 L50.0371,6 A3.75,3.75 0 0 1 52.5371,8.5 L59.5371,28.4883 L1606.5,28.4883 A2.5,2.5 0 0 1 1609,30.9883 L1609,849.62 A2.5,2.5 0 0 1 1606.5,852.12 L8.5,852.12 A2.5,2.5 0 0 1 6,849.62 L6,8.5 A2.5,2.5 0 0 1 8.5,6" fill="#E8F5E9" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="59.5371" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="40.5371" x="10" y="21.5352">agent</text></g><!--class Tool--><g class="entity" data-entity="Tool" data-source-line="18" data-uid="ent0003" id="entity_Tool"><rect fill="#F1F1F1" height="146.9297" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187.8682" x="1074.07" y="689.19"/><ellipse cx="1148.7048" cy="705.19" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1151.1779,711.3331 Q1150.5969,711.6319 1149.9577,711.7813 Q1149.3185,711.9307 1148.613,711.9307 Q1146.1061,711.9307 1144.7863,710.2789 Q1143.4665,708.627 1143.4665,705.5059 Q1143.4665,702.3765 1144.7863,700.7247 Q1146.1061,699.0728 1148.613,699.0728 Q1149.3185,699.0728 1149.966,699.2222 Q1150.6135,699.3716 1151.1779,699.6705 L1151.1779,702.3931 Q1150.5471,701.8121 1149.9535,701.5423 Q1149.36,701.2725 1148.7292,701.2725 Q1147.3845,701.2725 1146.6996,702.3392 Q1146.0148,703.4058 1146.0148,705.5059 Q1146.0148,707.5977 1146.6996,708.6644 Q1147.3845,709.731 1148.7292,709.731 Q1149.36,709.731 1149.9535,709.4612 Q1150.5471,709.1915 1151.1779,708.6104 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.0986" x="1169.2048" y="710.481">Tool</text><line style="stroke:#181818;stroke-width:0.5;" x1="1075.07" x2="1260.9382" y1="721.19" y2="721.19"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.2461" x="1080.07" y="738.7252">-name : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1855" x="1080.07" y="755.2134">-schema : alist</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.1514" x="1080.07" y="771.7017">-handler : function</text><line style="stroke:#181818;stroke-width:1;" x1="1075.07" x2="1260.9382" y1="778.6548" y2="778.6548"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.9629" x="1080.07" y="796.19">+tool-name() : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.9023" x="1080.07" y="812.6783">+tool-schema() : alist</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.8682" x="1080.07" y="829.1666">+tool-handler() : function</text></g><!--class ToolRegistry--><g class="entity" data-entity="ToolRegistry" data-source-line="29" data-uid="ent0004" id="entity_ToolRegistry"><rect fill="#ADD8E6" height="188.5273" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="292.2324" x="986.88" y="423.66"/><ellipse cx="1086.2745" cy="443.9705" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1088.7477,450.1136 Q1088.1666,450.4124 1087.5275,450.5619 Q1086.8883,450.7113 1086.1827,450.7113 Q1083.6759,450.7113 1082.3561,449.0594 Q1081.0363,447.4076 1081.0363,444.2865 Q1081.0363,441.1571 1082.3561,439.5052 Q1083.6759,437.8534 1086.1827,437.8534 Q1086.8883,437.8534 1087.5358,438.0028 Q1088.1832,438.1522 1088.7477,438.451 L1088.7477,441.1737 Q1088.1168,440.5926 1087.5233,440.3228 Q1086.9298,440.0531 1086.2989,440.0531 Q1084.9542,440.0531 1084.2694,441.1197 Q1083.5846,442.1864 1083.5846,444.2865 Q1083.5846,446.3783 1084.2694,447.4449 Q1084.9542,448.5116 1086.2989,448.5116 Q1086.9298,448.5116 1087.5233,448.2418 Q1088.1168,447.972 1088.7477,447.391 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="37.6875" x="1130.4025" y="440.2616">&#171;core&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.9434" x="1106.7745" y="456.328">ToolRegistry</text><line style="stroke:#181818;stroke-width:0.5;" x1="987.88" x2="1278.1124" y1="464.2811" y2="464.2811"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="133.2256" x="992.88" y="481.8163">*tools* : list&lt;Tool&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="138.1406" x="992.88" y="498.3045">*ollama-url* : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="162.0049" x="992.88" y="514.7928">*ollama-model* : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="218.6885" x="992.88" y="531.2811">*agent-system-prompt* : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="170.1875" x="992.88" y="547.7694">*agent-debug* : boolean</text><line style="stroke:#181818;stroke-width:1;" x1="987.88" x2="1278.1124" y1="554.7225" y2="554.7225"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="172.4639" x="992.88" y="572.2577">+register-tool(tool: Tool)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="280.2324" x="992.88" y="588.7459">+find-tool-by-name(name: string) : Tool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="154.4443" x="992.88" y="605.2342">+tools-schemas() : list</text></g><!--class Agent--><g class="entity" data-entity="Agent" data-source-line="42" data-uid="ent0005" id="entity_Agent"><rect fill="#ADD8E6" height="106.0859" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="337.7051" x="238.15" y="41"/><ellipse cx="382.6959" cy="61.3105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M385.169,67.4536 Q384.588,67.7524 383.9488,67.9019 Q383.3097,68.0513 382.6041,68.0513 Q380.0973,68.0513 378.7774,66.3994 Q377.4576,64.7476 377.4576,61.6265 Q377.4576,58.4971 378.7774,56.8452 Q380.0973,55.1934 382.6041,55.1934 Q383.3097,55.1934 383.9571,55.3428 Q384.6046,55.4922 385.169,55.791 L385.169,58.5137 Q384.5382,57.9326 383.9447,57.6628 Q383.3512,57.3931 382.7203,57.3931 Q381.3756,57.3931 380.6908,58.4597 Q380.006,59.5264 380.006,61.6265 Q380.006,63.7183 380.6908,64.7849 Q381.3756,65.8516 382.7203,65.8516 Q383.3512,65.8516 383.9447,65.5818 Q384.5382,65.312 385.169,64.731 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="37.6875" x="404.4088" y="57.6016">&#171;core&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.1133" x="403.1959" y="73.668">Agent</text><line style="stroke:#181818;stroke-width:0.5;" x1="239.15" x2="574.8551" y1="81.6211" y2="81.6211"/><line style="stroke:#181818;stroke-width:1;" x1="239.15" x2="574.8551" y1="89.6211" y2="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="325.7051" x="244.15" y="107.1563">+run-weather-agent(user-input: string) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310.5498" x="244.15" y="123.6445">-handle-tool-call(tool-call: hash-table) : alist</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.957" x="244.15" y="140.1328">-ensure-list(x) : list</text></g><!--class OllamaClient--><g class="entity" data-entity="OllamaClient" data-source-line="50" data-uid="ent0006" id="entity_OllamaClient"><rect fill="#ADD8E6" height="89.5977" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291.6855" x="122.16" y="240.58"/><ellipse cx="220.2489" cy="260.8905" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M222.722,267.0336 Q222.141,267.3324 221.5018,267.4819 Q220.8626,267.6313 220.1571,267.6313 Q217.6502,267.6313 216.3304,265.9794 Q215.0106,264.3276 215.0106,261.2065 Q215.0106,258.0771 216.3304,256.4252 Q217.6502,254.7734 220.1571,254.7734 Q220.8626,254.7734 221.5101,254.9228 Q222.1576,255.0722 222.722,255.371 L222.722,258.0937 Q222.0912,257.5126 221.4976,257.2428 Q220.9041,256.9731 220.2733,256.9731 Q218.9286,256.9731 218.2437,258.0397 Q217.5589,259.1064 217.5589,261.2065 Q217.5589,263.2983 218.2437,264.3649 Q218.9286,265.4316 220.2733,265.4316 Q220.9041,265.4316 221.4976,265.1618 Q222.0912,264.892 222.722,264.311 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="37.6875" x="265.409" y="257.1816">&#171;core&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.0078" x="240.7489" y="273.248">OllamaClient</text><line style="stroke:#181818;stroke-width:0.5;" x1="123.16" x2="412.8455" y1="281.2011" y2="281.2011"/><line style="stroke:#181818;stroke-width:1;" x1="123.16" x2="412.8455" y1="289.2011" y2="289.2011"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279.6855" x="128.16" y="306.7363">+call-ollama(messages: list) : hash-table</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204.8389" x="128.16" y="323.2245">+test-ollama-simple() : string</text></g><!--class HttpUtils--><g class="entity" data-entity="HttpUtils" data-source-line="57" data-uid="ent0007" id="entity_HttpUtils"><rect fill="#D3D3D3" height="106.0859" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="353.585" x="598.21" y="464.88"/><ellipse cx="740.8829" cy="485.1905" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M743.356,491.3336 Q742.7749,491.6324 742.1358,491.7819 Q741.4966,491.9313 740.7911,491.9313 Q738.2842,491.9313 736.9644,490.2794 Q735.6446,488.6276 735.6446,485.5065 Q735.6446,482.3771 736.9644,480.7252 Q738.2842,479.0734 740.7911,479.0734 Q741.4966,479.0734 742.1441,479.2228 Q742.7915,479.3722 743.356,479.671 L743.356,482.3937 Q742.7251,481.8126 742.1316,481.5428 Q741.5381,481.2731 740.9073,481.2731 Q739.5625,481.2731 738.8777,482.3397 Q738.1929,483.4064 738.1929,485.5065 Q738.1929,487.5983 738.8777,488.6649 Q739.5625,489.7316 740.9073,489.7316 Q741.5381,489.7316 742.1316,489.4618 Q742.7251,489.192 743.356,488.611 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="31.4473" x="775.5288" y="481.4816">&#171;util&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.7393" x="761.3829" y="497.548">HttpUtils</text><line style="stroke:#181818;stroke-width:0.5;" x1="599.21" x2="950.795" y1="505.5011" y2="505.5011"/><line style="stroke:#181818;stroke-width:1;" x1="599.21" x2="950.795" y1="513.5011" y2="513.5011"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320.5098" x="604.21" y="531.0363">+http-get(url: string, parameters: alist) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341.585" x="604.21" y="547.5245">+http-post-json(url: string, payload: alist) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195.9316" x="604.21" y="564.0128">-body-&gt;string(body) : string</text></g><!--class Utils--><g class="entity" data-entity="Utils" data-source-line="65" data-uid="ent0008" id="entity_Utils"><rect fill="#D3D3D3" height="89.5977" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="332.6396" x="448.68" y="240.58"/><ellipse cx="595.6663" cy="260.8905" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M598.1395,267.0336 Q597.5584,267.3324 596.9193,267.4819 Q596.2801,267.6313 595.5745,267.6313 Q593.0677,267.6313 591.7479,265.9794 Q590.428,264.3276 590.428,261.2065 Q590.428,258.0771 591.7479,256.4252 Q593.0677,254.7734 595.5745,254.7734 Q596.2801,254.7734 596.9276,254.9228 Q597.575,255.0722 598.1395,255.371 L598.1395,258.0937 Q597.5086,257.5126 596.9151,257.2428 Q596.3216,256.9731 595.6907,256.9731 Q594.346,256.9731 593.6612,258.0397 Q592.9764,259.1064 592.9764,261.2065 Q592.9764,263.2983 593.6612,264.3649 Q594.346,265.4316 595.6907,265.4316 Q596.3216,265.4316 596.9151,265.1618 Q597.5086,264.892 598.1395,264.311 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="31.4473" x="615.5262" y="257.1816">&#171;util&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.167" x="616.1663" y="273.248">Utils</text><line style="stroke:#181818;stroke-width:0.5;" x1="449.68" x2="780.3196" y1="281.2011" y2="281.2011"/><line style="stroke:#181818;stroke-width:1;" x1="449.68" x2="780.3196" y1="289.2011" y2="289.2011"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285.2295" x="454.68" y="306.7363">+extract-json-substring(s: string) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="320.6396" x="454.68" y="323.2245">+try-manual-tool-json(content: string) : string</text></g><!--class Logger--><g class="entity" data-entity="Logger" data-source-line="72" data-uid="ent0009" id="entity_Logger"><rect fill="#D3D3D3" height="73.1094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239.9717" x="85.01" y="481.37"/><ellipse cx="177.22" cy="501.6805" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M179.6931,507.8236 Q179.1121,508.1224 178.4729,508.2719 Q177.8337,508.4213 177.1282,508.4213 Q174.6213,508.4213 173.3015,506.7694 Q171.9817,505.1176 171.9817,501.9965 Q171.9817,498.8671 173.3015,497.2152 Q174.6213,495.5634 177.1282,495.5634 Q177.8337,495.5634 178.4812,495.7128 Q179.1287,495.8622 179.6931,496.161 L179.6931,498.8837 Q179.0622,498.3026 178.4687,498.0328 Q177.8752,497.7631 177.2444,497.7631 Q175.8996,497.7631 175.2148,498.8297 Q174.53,499.8964 174.53,501.9965 Q174.53,504.0883 175.2148,505.1549 Q175.8996,506.2216 177.2444,506.2216 Q177.8752,506.2216 178.4687,505.9518 Q179.0622,505.682 179.6931,505.101 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="31.4473" x="205.5222" y="497.9716">&#171;util&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.0518" x="197.72" y="514.038">Logger</text><line style="stroke:#181818;stroke-width:0.5;" x1="86.01" x2="323.9817" y1="521.9911" y2="521.9911"/><line style="stroke:#181818;stroke-width:1;" x1="86.01" x2="323.9817" y1="529.9911" y2="529.9911"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227.9717" x="91.01" y="547.5263">+dbg(fmt: string, args: list) : void</text></g><!--class TimeTool--><g class="entity" data-entity="TimeTool" data-source-line="78" data-uid="ent0010" id="entity_TimeTool"><rect fill="#90EE90" height="106.0859" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="331.7441" x="816.13" y="232.33"/><ellipse cx="945.818" cy="252.6405" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M948.2911,258.7836 Q947.7101,259.0824 947.0709,259.2319 Q946.4318,259.3813 945.7262,259.3813 Q943.2194,259.3813 941.8995,257.7294 Q940.5797,256.0776 940.5797,252.9565 Q940.5797,249.8271 941.8995,248.1752 Q943.2194,246.5234 945.7262,246.5234 Q946.4318,246.5234 947.0792,246.6728 Q947.7267,246.8222 948.2911,247.121 L948.2911,249.8437 Q947.6603,249.2626 947.0668,248.9928 Q946.4733,248.7231 945.8424,248.7231 Q944.4977,248.7231 943.8129,249.7897 Q943.128,250.8564 943.128,252.9565 Q943.128,255.0483 943.8129,256.1149 Q944.4977,257.1816 945.8424,257.1816 Q946.4733,257.1816 947.0668,256.9118 Q947.6603,256.642 948.2911,256.061 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35.2734" x="980.6154" y="248.9316">&#171;tool&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.8682" x="966.318" y="264.998">TimeTool</text><line style="stroke:#181818;stroke-width:0.5;" x1="817.13" x2="1146.8741" y1="272.9511" y2="272.9511"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="179.416" x="822.13" y="290.4863">*time-tool-schema* : alist</text><line style="stroke:#181818;stroke-width:1;" x1="817.13" x2="1146.8741" y1="297.4394" y2="297.4394"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319.7441" x="822.13" y="314.9745">+current-time-string(timezone: string) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.2432" x="822.13" y="331.4628">+make-time-tool() : Tool</text></g><!--class WeatherTool--><g class="entity" data-entity="WeatherTool" data-source-line="85" data-uid="ent0011" id="entity_WeatherTool"><rect fill="#90EE90" height="122.5742" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="310.2588" x="1182.87" y="224.09"/><ellipse cx="1291.2196" cy="244.4005" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1293.6928,250.5436 Q1293.1117,250.8424 1292.4725,250.9919 Q1291.8334,251.1413 1291.1278,251.1413 Q1288.621,251.1413 1287.3012,249.4894 Q1285.9813,247.8376 1285.9813,244.7165 Q1285.9813,241.5871 1287.3012,239.9352 Q1288.621,238.2834 1291.1278,238.2834 Q1291.8334,238.2834 1292.4808,238.4328 Q1293.1283,238.5822 1293.6928,238.881 L1293.6928,241.6037 Q1293.0619,241.0226 1292.4684,240.7528 Q1291.8749,240.4831 1291.244,240.4831 Q1289.8993,240.4831 1289.2145,241.5497 Q1288.5297,242.6164 1288.5297,244.7165 Q1288.5297,246.8083 1289.2145,247.8749 Q1289.8993,248.9416 1291.244,248.9416 Q1291.8749,248.9416 1292.4684,248.6718 Q1293.0619,248.402 1293.6928,247.821 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35.2734" x="1336.6127" y="240.6916">&#171;tool&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.0596" x="1311.7196" y="256.758">WeatherTool</text><line style="stroke:#181818;stroke-width:0.5;" x1="1183.87" x2="1492.1288" y1="264.7111" y2="264.7111"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="203.0342" x="1188.87" y="282.2463">*weather-tool-schema* : alist</text><line style="stroke:#181818;stroke-width:1;" x1="1183.87" x2="1492.1288" y1="289.1994" y2="289.1994"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237.7471" x="1188.87" y="306.7345">+geocode-city(city: string) : values</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="298.2588" x="1188.87" y="323.2228">+get-weather-from-api(city: string) : string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.8613" x="1188.87" y="339.7111">+make-weather-tool() : Tool</text></g><g class="entity" data-entity="GMN25" data-source-line="112" data-uid="ent0026" id="entity_GMN25"><path d="M610.79,66.08 L610.79,90.05 L576.24,94.05 L610.79,98.05 L610.79,122.0116 A0,0 0 0 0 610.79,122.0116 L867.2119,122.0116 A0,0 0 0 0 867.2119,122.0116 L867.2119,76.08 L857.2119,66.08 L610.79,66.08 A0,0 0 0 0 610.79,66.08" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M857.2119,66.08 L857.2119,76.08 L867.2119,76.08 L857.2119,66.08" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.4219" x="616.79" y="83.6484">Main entry point for agent execution.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.0361" x="616.79" y="98.9589">Manages conversation loop with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.4409" x="616.79" y="114.2695">Ollama and tool execution.</text></g><g class="entity" data-entity="GMN28" data-source-line="118" data-uid="ent0029" id="entity_GMN28"><path d="M1297.11,734.69 L1297.11,758.66 L1262.26,762.66 L1297.11,766.66 L1297.11,790.6216 A0,0 0 0 0 1297.11,790.6216 L1546.8986,790.6216 A0,0 0 0 0 1546.8986,790.6216 L1546.8986,744.69 L1536.8986,734.69 L1297.11,734.69 A0,0 0 0 0 1297.11,734.69" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1536.8986,734.69 L1536.8986,744.69 L1546.8986,744.69 L1536.8986,734.69" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.9395" x="1303.11" y="752.2584">Base class for all tools.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.7886" x="1303.11" y="767.5689">Each tool has a name, JSON schema,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.126" x="1303.11" y="782.8795">and a handler function.</text></g><g class="entity" data-entity="GMN31" data-source-line="124" data-uid="ent0032" id="entity_GMN31"><path d="M846.77,734.69 L846.77,790.6216 A0,0 0 0 0 846.77,790.6216 L1039.2202,790.6216 A0,0 0 0 0 1039.2202,790.6216 L1039.2202,744.69 L1029.2202,734.69 L968.34,734.69 L1059.81,612.42 L960.34,734.69 L846.77,734.69 A0,0 0 0 0 846.77,734.69" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1029.2202,734.69 L1029.2202,744.69 L1039.2202,744.69 L1029.2202,734.69" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.4502" x="852.77" y="752.2584">Global registry maintaining</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.5835" x="852.77" y="767.5689">all registered tools and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1094" x="852.77" y="782.8795">system configuration.</text></g><!--reverse link ToolRegistry to Tool--><g class="link" data-entity-1="ToolRegistry" data-entity-2="Tool" data-source-line="94" data-uid="lnk12" id="link_ToolRegistry_Tool"><path codeLine="94" d="M1148.1928,624.2971 C1151.8528,649.6771 1154.05,664.89 1157.51,688.93" fill="none" id="ToolRegistry-backto-Tool" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="1146.48,612.42,1143.3773,618.9295,1148.1928,624.2971,1151.2954,617.7876,1146.48,612.42" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.5386" x="1153.6" y="655.7584">manages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.2202" x="1139.2145" y="632.8093">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="6.2651" x="1150.1947" y="678.5181">*</text></g><!--link Agent to ToolRegistry--><g class="link" data-entity-1="Agent" data-entity-2="ToolRegistry" data-source-line="95" data-uid="lnk13" id="link_Agent_ToolRegistry"><path codeLine="95" d="M576.23,143.84 C581.87,145 587.47,146.09 593,147.09 C693.74,165.24 1441.71,148.75 1511,224.09 C1547.88,264.19 1542.59,302.28 1511,346.66 C1450.45,431.75 1383.65,379.53 1289,423.66 C1285.85,425.13 1288.0734,423.9907 1284.9034,425.5507" fill="none" id="Agent-to-ToolRegistry" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1279.52,428.2,1289.3613,427.8151,1284.0062,425.9923,1285.829,420.6371,1279.52,428.2" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="1537.71" y="290.4484">uses</text></g><!--link Agent to OllamaClient--><g class="link" data-entity-1="Agent" data-entity-2="OllamaClient" data-source-line="96" data-uid="lnk14" id="link_Agent_OllamaClient"><path codeLine="96" d="M368.47,147.53 C347.09,176.64 324.3606,207.6033 304.0406,235.2833" fill="none" id="Agent-to-OllamaClient" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="300.49,240.12,309.0403,235.2321,303.4488,236.0895,302.5915,230.498,300.49,240.12" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="346.82" y="190.6584">uses</text></g><!--link Agent to Utils--><g class="link" data-entity-1="Agent" data-entity-2="Utils" data-source-line="97" data-uid="lnk15" id="link_Agent_Utils"><path codeLine="97" d="M464.66,147.53 C496.64,176.64 531.5329,208.4012 561.9429,236.0812" fill="none" id="Agent-to-Utils" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="566.38,240.12,562.4168,231.1037,562.6824,236.7543,557.0318,237.0199,566.38,240.12" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="512" y="190.6584">uses</text></g><!--link Agent to Logger--><g class="link" data-entity-1="Agent" data-entity-2="Logger" data-source-line="98" data-uid="lnk16" id="link_Agent_Logger"><path codeLine="98" d="M238.05,119.93 C176.19,138.12 112.28,169.61 75,224.09 C17.05,308.79 105.9425,419.2325 162.4725,476.7025" fill="none" id="Agent-to-Logger" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="166.68,480.98,163.2204,471.7588,163.1737,477.4154,157.5171,477.3688,166.68,480.98" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="76" y="290.4484">uses</text></g><!--link OllamaClient to HttpUtils--><g class="link" data-entity-1="OllamaClient" data-entity-2="HttpUtils" data-source-line="100" data-uid="lnk17" id="link_OllamaClient_HttpUtils"><path codeLine="100" d="M365.95,330.65 C425.3,357.51 502.54,392.5 571,423.66 C599.98,436.85 625.7927,448.6363 654.9427,461.9563" fill="none" id="OllamaClient-to-HttpUtils" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="660.4,464.45,653.8766,457.0713,655.8523,462.3719,650.5517,464.3477,660.4,464.45" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="505.64" y="390.2284">uses</text></g><!--link OllamaClient to ToolRegistry--><g class="link" data-entity-1="OllamaClient" data-entity-2="ToolRegistry" data-source-line="101" data-uid="lnk18" id="link_OllamaClient_ToolRegistry"><path codeLine="101" d="M377.92,330.61 C395.48,336.64 413.6,342.25 431,346.66 C665.15,406 740.46,345.48 969,423.66 C974.89,425.68 975.2509,425.6525 981.1609,428.0525" fill="none" id="OllamaClient-to-ToolRegistry" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="986.72,430.31,979.8863,423.2177,982.0874,428.4287,976.8763,430.6298,986.72,430.31" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="859.66" y="390.2284">uses</text></g><!--link OllamaClient to Logger--><g class="link" data-entity-1="OllamaClient" data-entity-2="Logger" data-source-line="102" data-uid="lnk19" id="link_OllamaClient_Logger"><path codeLine="102" d="M255.93,330.56 C243.96,374.36 227.4317,434.8422 216.3417,475.4222" fill="none" id="OllamaClient-to-Logger" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="214.76,481.21,220.9911,473.5828,216.0781,476.3869,213.2741,471.4739,214.76,481.21" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="243.14" y="390.2284">uses</text></g><!--link TimeTool to Tool--><g class="link" data-entity-1="TimeTool" data-entity-2="Tool" data-source-line="104" data-uid="lnk20" id="link_TimeTool_Tool"><path codeLine="104" d="M827.14,338.84 C817.65,341.61 808.22,344.24 799,346.66 C680.38,377.86 602.22,321.74 534,423.66 C487.39,493.29 479.24,548.77 534,612.19 C610.78,701.1 947.15,647.56 1057,689.19 C1062.6,691.31 1062.7931,691.1489 1068.3431,693.8189" fill="none" id="TimeTool-to-Tool" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1073.75,696.42,1067.3738,688.9137,1069.2443,694.2524,1063.9056,696.1229,1073.75,696.42" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.1318" x="535" y="522.9984">creates</text></g><!--link WeatherTool to Tool--><g class="link" data-entity-1="WeatherTool" data-entity-2="Tool" data-source-line="105" data-uid="lnk21" id="link_WeatherTool_Tool"><path codeLine="105" d="M1341.44,346.88 C1342.86,414.78 1337.74,526.61 1297,612.19 C1283.89,639.73 1268.2533,661.6765 1248.2833,684.4765" fill="none" id="WeatherTool-to-Tool" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1244.33,688.99,1253.2689,684.8553,1247.6244,685.2288,1247.2509,679.5842,1244.33,688.99" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.1318" x="1340.61" y="522.9984">creates</text></g><!--link WeatherTool to HttpUtils--><g class="link" data-entity-1="WeatherTool" data-entity-2="HttpUtils" data-source-line="106" data-uid="lnk22" id="link_WeatherTool_HttpUtils"><path codeLine="106" d="M1209.5,347.07 C1171.82,363.53 1130.2,380.43 1091,393.66 C1038.09,411.52 1021.55,404.8 969,423.66 C937.34,435.03 909.3682,447.311 879.3982,461.851" fill="none" id="WeatherTool-to-HttpUtils" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="874,464.47,883.8433,464.1404,878.4985,462.2875,880.3514,456.9427,874,464.47" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="1133.43" y="390.2284">uses</text></g><!--link TimeTool to ToolRegistry--><g class="link" data-entity-1="TimeTool" data-entity-2="ToolRegistry" data-source-line="108" data-uid="lnk23" id="link_TimeTool_ToolRegistry"><path codeLine="108" d="M991.65,338.67 C996.39,356.86 1003.26,376.9 1013,393.66 C1018.93,403.86 1022.1876,409.1285 1029.7076,418.7185" fill="none" id="TimeTool-to-ToolRegistry" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1033.41,423.44,1031.0041,413.8895,1030.3247,419.5054,1024.7088,418.826,1033.41,423.44" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.0649" x="1014" y="390.2284">registers to</text></g><!--link WeatherTool to ToolRegistry--><g class="link" data-entity-1="WeatherTool" data-entity-2="ToolRegistry" data-source-line="109" data-uid="lnk24" id="link_WeatherTool_ToolRegistry"><path codeLine="109" d="M1284.14,346.95 C1263.38,370.3 1243.1363,393.0556 1220.2463,418.8056" fill="none" id="WeatherTool-to-ToolRegistry" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1216.26,423.29,1225.229,419.221,1219.5819,419.553,1219.2499,413.9059,1216.26,423.29" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.0649" x="1254.86" y="390.2284">registers to</text></g><!--SRC=[ZLRRRjiu47tNLx3kGnqt37Q1Bj0QXW7RQwVTJUCWJb7iKq5BOvaRYXH8AgaRvDztU94Y-HAi0GiIvt3cp9Lyay66Io0tazdVaylvZzdoQdbBtiu_BlwOVqhUHEdiQh9QrRBfzC_vOjh85j-kPtTVbjUrUB5OV9fzI99tPARaXkULPfOhcPXxBakcMK5ImOoPMAlvkhBm9LLonNy1-MqVGfuIWhyfI-zphIgPpPHGUZHAlTxnc5pnV6l_0I7KuocaXXet5HKSHrcbH8swr03oEAool0LZk-GvIKe4iHn83n_IziXeT1DM4DWDwLE8YCPWEj_09C77EpJk7QL4iWB8a1WCZCpzYactK31SOu8RwvUsJ6O2DAvjAfdwoE8onSTxuXoXJal_hAqd2e8oBwhLHKdKwKMDrcT7-5AeDHDaPPc55k5Ro561tf4cnCw39uCmdZwJWTDg1gZDsHcv7UEEN0d12aOhBGPjeWU0GcLm2k8ZJitEM2XegLLHsbUH6Qoht27MI0TO4xO6zvvexnPewlZttMFetJthmh3iCm-Xwrq8jtlKfbqGtQRk7X-Hc0BZ0-rJu8CySVp8bSfv6cCSLZh1ZIdMbQIFmEmMMNg_-fN1L-oRohOPj8eeP3SGJfa8Zlct8ShCbbgs5d3MgJAGfj90tNV_PvVjqgS6gvYZzSWth8MbexITDHgIsY_06AHkWbAd_8L5g4amDeAfuKKfElNiINo-kxiXtx0XkULDAtssjdHhXZJDsgAmHIdD0GEcHQtidFXn0vXp4ztVwno_grH8w5-ZvFxUdL0iExQHOfLbEpeE2tttiU_2FllJpE6drImD3AYfrb6fEPfl39_UqOB9YecGSqySPwR5v1pPuibWyUNk8r1nNpXYZd79rdb_KzYN832TjpBve7WMDEBmJpK6rlT2C-nu0NxWDKDtRswWdBQ6rQ1TbB6IAgrTEtjeZ8Hx_wKad0X8mUw1DghxJOCYpq3hUsYervZLFVSwkHnKYYEBfjpk-kxHPlJ0y0Go4MURBjxWwAAiv0VuVG_Q53fEl2Et8FmXQxQyD4bdGlT-xn55AUaDUk6i6Q8swVel2LFcucBSdUb3KfcEjDFT1z9GjmVBiORYUjBHuUGlpHeX1uXZf0v0UsQQ0giLe0JB44ylaxIp_3_41mGFbRVOrKU7mKb_rD8fR28LDebsbmgYDc7oOyw_CYvn2hiDfUBex4PfuWS-ZWD8AvVj2u_pkIJOtm-eqLS14KgLv97RBGBYkCOpm9z1xTs0QyxwFeTuUasPWNWHyyQ52AUOCpjdwJRemzbDcB-wd9E_LilhU6SvHv2poPeBItsnEB2xLjQgeZPSnmdtnyk7hYDNO4mi_aDNE3vr924uPvn958LB0KdRzy-MsUV_0000]--></g></svg>